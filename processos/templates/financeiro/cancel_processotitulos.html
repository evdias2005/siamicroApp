{% extends "base.html" %}


{% block title %} Cancelamento de Títulos {% endblock title %}


{% block content %}
                
    <form method="post">
        
        {% csrf_token %}

        <fieldset class="form-group">
            <div style="color:#4682B4; font-style: bold; font-size: 1.5rem; border-bottom: 1px solid white;">Cancela Títulos</div><hr>
            <h4 style="color:black;">Tem certeza que deseja cancelar todos os títulos abaixo?</h4>
        </fieldset>
        <hr>
        <table class="table table-striped table-bordered" style="width:100%" id="tabela-listar">

            <thead class="thead-dark align-middle">
                <tr>
                    <th width="10%"><small>Processo</small></th>
                    <th width="30%"><small>Cliente</small></th>
                    <th width="5%"><small>Pc</small></th>
                    <th width="15%"><small>Origem</small></th>
                    <th width="5%"><small>Emissão</small></th>
                    <th width="10%"><small>Vlr.Parcela</small></th>
                    <th width="5%"><small>Vencimento</small></th>
                </tr>
            </thead>

            <tbody>
                {% for parcela in object %}
                <tr>
                    <td class="align-middle"><small> {{ parcela.processo.numprocesso }} </small></td>
                    <td class="align-middle"><small> {% if parcela.processo.clientepf.nome %}
                        {{ parcela.processo.clientepf.nome }}
                        {% else %} {{ parcela.processo.clientepj.razaosocial }} {% endif %}
                    </small></td>
                    <td class="align-middle"><small> {{ parcela.numparcela }} </small></td>
                    <td class="align-middle"><small> {% if parcela.negociacao_id %} Negoc.n°: {{ parcela.negociacao_id }}
                        {% else %} Parecer n°: {{ parcela.parecer_id }} {% endif %} </small></td>
                    <td class="align-middle"><small> {{ parcela.dtemissao|date:"SHORT_DATE_FORMAT" }} </small></td>
                    <td class="align-middle"><small> {{ parcela.valorparcela }} </small></td>
                    <td class="align-middle"><small> {{ parcela.dtvencimento|date:"SHORT_DATE_FORMAT" }} </small></td>
                </tr>
                {% empty %}
    <!--                <div style="color: #4682B4; font-style: bold; font-size: 1.5rem; text-align: center;">Não foram encontrados registros !!!</div>-->
                {% endfor %}
            </tbody>
        </table>
        <br><br>
        <div class="form-group align-middle">
            <button type="submit" class="btn ghost-red"><small>Sim, Cancela</small></button>
            <a href="{% url 'titulosacancelar-list' %}" class="btn ghost-button"><small>Retorna</small></a>
        </div>
        
    </form>

{% block scripts %}
<script>
    $(document).ready(function(){
        $("#tabela-listar").DataTable({
            responsive: true,
            "pageLength": 10,
            "language": {
                "search": "Procurar:",
                "infoEmpty": "Mostrando de 0 até 0 de 0 registros",
                "infoFiltered": " (filtrado de _MAX_ registros no total)",
                "lengthMenu": "Mostrar _MENU_ registros",
                "paginate": {
                    "first": "<<",
                    "last": ">>",
                    "next": ">",
                    "previous": "<"
                },
                "zeroRecords": "Não foram encontrados registros!!!",
                "info": "Mostrando de _START_ até _END_ de _TOTAL_ registros",
            }
        });
    });
</script>

{% endblock %}
{% endblock content %}